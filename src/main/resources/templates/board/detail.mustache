{{> layout/header}}
<div class="container p-5">
    <!-- ìˆ˜ì •ì‚­ì œë²„íŠ¼ -->
    <div class="d-flex justify-content-end">
        <button class="btn btn-warning me-1">ìˆ˜ì •</button>
        <button class="btn btn-danger">ì‚­ì œ</button>
    </div>
    <div class="d-flex justify-content-end">
        <b>ì‘ì„±ì</b> : ssar
    </div>

    <!-- ê²Œì‹œê¸€ë‚´ìš© -->
    <div>
        <h2><b>ì œëª©ìë¦¬</b></h2>
        <hr/>
        <div class="m-4 p-2">
            ë‚´ìš©ì…ë‹ˆë‹¤
        </div>
    </div>

    <!-- ëŒ“ê¸€ -->
    <div class="card mt-3">
        <!-- ëŒ“ê¸€ë“±ë¡ -->
        <div class="card-body">
            <form id="commentForm" action="/reply/save" method="post" enctype="application/x-www-form-urlencoded">
                <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-outline-primary mt-1">ëŒ“ê¸€ë“±ë¡</button>
                </div>
            </form>
        </div>

        <!-- ëŒ“ê¸€ëª©ë¡ -->
        <div class="card-footer">
            <b>ëŒ“ê¸€ë¦¬ìŠ¤íŠ¸</b>
        </div>
        <div class="list-group">
            <!-- ëŒ“ê¸€ì•„ì´í…œ -->
            <div>
                <div class="list-group-item">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <div class="px-1 me-1">cos</div>
                            <div style="margin-left: 12px">ëŒ“ê¸€ ë‚´ìš©ì…ë‹ˆë‹¤</div>
                        </div>
                        <div class="btn addSubReplyBtn" style="margin-left: 200px">â•</div>
                        <form action="/reply/1/delete" method="post">
                            <button class="btn">ğŸ—‘</button>
                        </form>
                    </div>
                    <hr>
                    <div class="reply">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <div>â†˜ cos</div>
                                <div style="margin-left: 12px">ëŒ€ëŒ“ê¸€ ë‚´ìš©ì…ë‹ˆë‹¤.</div>
                            </div>
                            <div class="btn addSubReplyBtn" style="margin-left: 200px">â•</div>
                            <form action="/reply/1/delete" method="post">
                                <button class="btn">ğŸ—‘</button>
                            </form>
                        </div>
                    </div>
                    <div style="margin-top: 13px"></div>
                </div>
            </div>

            <!-- ëŒ“ê¸€ì•„ì´í…œ -->
            <div class="list-group-item d-flex justify-content-between align-items-center">
                <div class="d-flex">
                    <div class="px-1 me-1 bg-primary text-white rounded">ssar</div>
                    <div>ëŒ“ê¸€ ë‚´ìš©ì…ë‹ˆë‹¤</div>
                </div>
                <form action="/reply/1/delete" method="post">
                    <button class="btn">ğŸ—‘</button>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    // ëŒ€ëŒ“ê¸€ ì¶”ê°€ í•¨ìˆ˜
    function addSubReply() {
        // ëŒ€ëŒ“ê¸€ì„ ê°ì‹¸ëŠ” div ìš”ì†Œ ìƒì„±
        var subReplyDiv = document.createElement("div");
        subReplyDiv.classList.add("reply"); // ìƒˆë¡œìš´ í´ë˜ìŠ¤ ì¶”ê°€

        // ëŒ€ëŒ“ê¸€ì˜ ì™¼ìª½ ë§ˆì§„ ê³„ì‚°
        var marginLeft = 20; // ì´ˆê¸° ë§ˆì§„ ê°’
        var existingReplies = document.querySelectorAll(".reply"); // í˜„ì¬ ì¡´ì¬í•˜ëŠ” ëŒ€ëŒ“ê¸€ ìš”ì†Œë“¤
        if (existingReplies.length > 0) {
            // í˜„ì¬ ì¡´ì¬í•˜ëŠ” ëŒ€ëŒ“ê¸€ì´ ìˆì„ ê²½ìš°
            var lastReply = existingReplies[existingReplies.length - 1]; // ê°€ì¥ ë§ˆì§€ë§‰ ëŒ€ëŒ“ê¸€ ìš”ì†Œ
            var lastMarginLeft = parseInt(lastReply.style.marginLeft.replace("px", "")); // ê°€ì¥ ë§ˆì§€ë§‰ ëŒ€ëŒ“ê¸€ì˜ ë§ˆì§„ ê°’
            marginLeft = lastMarginLeft + 20; // ì´ì „ ëŒ€ëŒ“ê¸€ì˜ ë§ˆì§„ ê°’ì— 20ì„ ë”í•˜ì—¬ ìƒˆë¡œìš´ ë§ˆì§„ ê°’ ê³„ì‚°
        }

        // ëŒ€ëŒ“ê¸€ ë‚´ìš© ë° ìŠ¤íƒ€ì¼ì„ ì„¤ì •í•˜ì—¬ div ìš”ì†Œì— ì¶”ê°€
        subReplyDiv.innerHTML = `
        <hr>
        <div class="d-flex justify-content-between align-items-center" style="margin-left: ${marginLeft}px">
            <div>
                <div>â†˜ cos</div>
                <div style="margin-left: 12px">ëŒ€ëŒ“ê¸€ ë‚´ìš©ì…ë‹ˆë‹¤.</div>
            </div>
            <div class="btn addSubReplyBtn" style="margin-left: 200px">â•</div>
            <form action="/reply/1/delete" method="post">
                <button class="btn">ğŸ—‘</button>
            </form>
        </div>
        <!-- ì¶”ê°€ ëŒ€ëŒ“ê¸€ ë“±ë¡ì„ ìœ„í•œ í¼ ë“±ë“± -->
    `;

        // ëŒ€ëŒ“ê¸€ì„ ì¶”ê°€í•  ë¶€ëª¨ ìš”ì†Œ ì„ íƒ
        var parentDiv = document.querySelector(".reply");
        // ë¶€ëª¨ ìš”ì†Œì— ëŒ€ëŒ“ê¸€ ìš”ì†Œ ì¶”ê°€
        parentDiv.appendChild(subReplyDiv);
    }

    // ëª¨ë“  ëŒ€ëŒ“ê¸€ ì¶”ê°€ ë²„íŠ¼ì— ì´ë²¤íŠ¸ ì¶”ê°€
    document.addEventListener("click", function(event) {
        if (event.target && event.target.classList.contains("addSubReplyBtn")) {
            addSubReply();
        }
    });
</script>

{{> layout/footer}}